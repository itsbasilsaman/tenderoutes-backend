<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Packages Management</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .image-preview-container {
            transition: all 0.3s ease;
        }
        
        .image-preview-container:hover .image-preview-overlay {
            opacity: 1;
        }
        
        .tab-animation {
            transition: all 0.3s ease;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #f8fafc;
            background-image: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            background-blend-mode: overlay;
        }
        
        .bg-glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
        }
        
        .highlight-item, .faq-item, .itinerary-day, .inclusion-item, .exclusion-item {
            transition: all 0.2s ease;
        }
        
        .highlight-item:hover, .faq-item:hover, .itinerary-day:hover, .inclusion-item:hover, .exclusion-item:hover {
            background-color: rgba(59, 130, 246, 0.05);
        }
    </style>
</head>
<body class="min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Header -->
        <header class="mb-8 animate-fade-in">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">Packages Management</h1>
            <div class="w-24 h-1.5 bg-gradient-to-r from-blue-500 to-blue-300 rounded-full"></div>
            <p class="mt-2 text-gray-600">Manage your travel packages and featured offers</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Add/Edit Package Form -->
            <div class="lg:col-span-1 bg-glass rounded-xl shadow-lg overflow-hidden animate-fade-in" style="animation-delay: 0.1s;">
                <div class="bg-gradient-to-r from-blue-600 to-blue-400 p-4">
                    <h2 class="text-xl font-semibold text-white flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd" />
                        </svg>
                        Add/Edit Package
                    </h2>
                </div>
                <form id="packageForm" enctype="multipart/form-data" class="p-6 space-y-4">
                    <input type="hidden" name="packageId" id="packageId">
                    
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Package Type:</label>
                        <select name="packageType" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required>
                            <option value="standard">Standard</option>
                            <option value="premium">Premium</option>
                            <option value="luxury">Luxury</option>
                        </select>
                    </div>

                    <!-- Meta Tags Section -->
<div class="space-y-4 pt-4 border-t border-gray-200">
  <h3 class="text-lg font-medium text-gray-800 flex items-center">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>
    SEO Meta Tags
  </h3>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Meta Title (EN):</label>
      <input type="text" name="metaTitleEn" placeholder="English meta title" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
    </div>
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Meta Title (AR):</label>
      <input type="text" name="metaTitleAr" placeholder="Arabic meta title" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Meta Description (EN):</label>
      <textarea name="metaDescriptionEn" rows="2" placeholder="English meta description" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150"></textarea>
    </div>
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Meta Description (AR):</label>
      <textarea name="metaDescriptionAr" rows="2" placeholder="Arabic meta description" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150"></textarea>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Meta Keywords (EN):</label>
      <input type="text" name="metaKeywordsEn" placeholder="English meta keywords (comma separated)" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
    </div>
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Meta Keywords (AR):</label>
      <input type="text" name="metaKeywordsAr" placeholder="Arabic meta keywords (comma separated)" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
    </div>
  </div>

  <div class="space-y-2">
    <label class="block text-sm font-medium text-gray-700">Canonical URL:</label>
    <input type="text" name="canonicalUrl" placeholder="https://example.com/package" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
  </div>

  <div class="space-y-2">
    <label class="block text-sm font-medium text-gray-700">OG Image:</label>
    <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-500 transition duration-150">
      <div class="space-y-1 text-center">
        <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
          <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <div class="flex text-sm text-gray-600">
          <label class="relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none transition duration-150">
            <span>Upload OG Image</span>
            <input type="file" name="ogImage" class="sr-only">
          </label>
          <p class="pl-1">or drag and drop</p>
        </div>
        <p class="text-xs text-gray-500">PNG, JPG, GIF up to 10MB</p>
      </div>
    </div>
  </div>

  <!-- Custom Slug Fields -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Custom URL Slug (EN):</label>
      <input type="text" name="slugEn" placeholder="custom-url-slug" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
      <p class="text-xs text-gray-500">Leave blank to auto-generate from title</p>
    </div>
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Custom URL Slug (AR):</label>
      <input type="text" name="slugAr" placeholder="arabic-url-slug" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
      <p class="text-xs text-gray-500">Leave blank to auto-generate from title</p>
    </div>
  </div>
</div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-700">Title (EN):</label>
                            <input type="text" name="titleEn" placeholder="English title" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required>
                        </div>
                        
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-700">Title (AR):</label>
                            <input type="text" name="titleAr" placeholder="Arabic title" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required>
                        </div>
                    </div>
                    
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Description (EN):</label>
                        <textarea name="descriptionEn" placeholder="English description" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required></textarea>
                    </div>
                    
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Description (AR):</label>
                        <textarea name="descriptionAr" placeholder="Arabic description" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required></textarea>
                    </div>

                    <!-- Overview Section -->
                    <div class="space-y-4 pt-4 border-t border-gray-200">
                        <h3 class="text-lg font-medium text-gray-800 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                            </svg>
                            Overview
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Overview (EN):</label>
                                <textarea name="overviewEn" placeholder="Detailed package overview in English" rows="5" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required></textarea>
                            </div>
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Overview (AR):</label>
                                <textarea name="overviewAr" placeholder="Detailed package overview in Arabic" rows="5" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Highlights Section -->
                    <div class="space-y-4 pt-4 border-t border-gray-200">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg font-medium text-gray-800 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                                </svg>
                                Package Highlights
                            </h3>
                            <button type="button" onclick="addHighlight()" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                </svg>
                                Add Highlight
                            </button>
                        </div>
                        <div id="highlightsContainer" class="space-y-2">
                            <!-- Highlights will be added here -->
                        </div>
                    </div>

                    <!-- FAQ Section -->
                    <div class="space-y-4 pt-4 border-t border-gray-200">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg font-medium text-gray-800 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                                </svg>
                                Frequently Asked Questions
                            </h3>
                            <button type="button" onclick="addFAQ()" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                </svg>
                                Add FAQ
                            </button>
                        </div>
                        <div id="faqContainer" class="space-y-4">
                            <!-- FAQ items will be added here -->
                        </div>
                    </div>
                    
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Duration:</label>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <input type="number" name="nights" placeholder="Nights" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required>
                            </div>
                            <div>
                                <input type="number" name="days" placeholder="Days" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-700">Destinations (EN):</label>
                            <input type="text" name="destinationsEn" placeholder="Kochi to Alleppey" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required>
                        </div>
                        
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-700">Destinations (AR):</label>
                            <input type="text" name="destinationsAr" placeholder="Destinations in Arabic" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" required>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-700">Rating:</label>
                            <div class="flex items-center">
                                <input type="number" name="rating" placeholder="4.9" min="0" max="5" step="0.1" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                </svg>
                            </div>
                        </div>
                        
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-700">Reviews Count:</label>
                            <input type="number" name="reviewsCount" placeholder="100" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                        </div>
                    </div>
                    
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Discount (%):</label>
                        <div class="relative">
                            <input type="number" name="discount" placeholder="10" min="0" max="100" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                <span class="text-gray-500">%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-2">
                        <input type="checkbox" name="isFeatured" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition duration-150">
                        <label class="text-sm font-medium text-gray-700">Featured Package</label>
                    </div>
                    
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Package Image:</label>
                        <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-500 transition duration-150">
                            <div class="space-y-1 text-center">
                                <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                    <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                <div class="flex text-sm text-gray-600">
                                    <label class="relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none transition duration-150">
                                        <span>Upload a file</span>
                                        <input type="file" name="image" class="sr-only" onchange="previewImage(this)">
                                    </label>
                                    <p class="pl-1">or drag and drop</p>
                                </div>
                                <p class="text-xs text-gray-500">PNG, JPG, GIF up to 10MB</p>
                            </div>
                        </div>
                        <div id="imagePreviewContainer" class="hidden mt-2">
                            <div class="relative group">
                                <img id="imagePreview" class="h-48 w-full object-cover rounded-md shadow-sm border border-gray-200">
                                <div class="absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition duration-150">
                                    <button type="button" onclick="removeImagePreview()" class="bg-white bg-opacity-80 rounded-full p-2 text-red-500 hover:bg-opacity-100 transition duration-150">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="space-y-4 pt-4 border-t border-gray-200">
                        <h3 class="text-lg font-medium text-gray-800 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z" />
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd" />
                            </svg>
                            Pricing
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Current Price:</label>
                                <div class="relative">
                                    <input type="number" name="price" placeholder="Current price" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                                    <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                        <span class="text-gray-500">$</span>
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Original Price:</label>
                                <div class="relative">
                                    <input type="number" name="originalPrice" placeholder="Original price" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                                    <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                        <span class="text-gray-500">$</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="space-y-4 pt-4 border-t border-gray-200">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg font-medium text-gray-800 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                                </svg>
                                Itinerary
                            </h3>
                            <button type="button" onclick="addItineraryDay()" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                </svg>
                                Add Day
                            </button>
                        </div>
                        <div id="itineraryContainer" class="space-y-4">
                            <!-- Itinerary days will be added here -->
                        </div>
                    </div>
                    
                    <div class="space-y-4 pt-4 border-t border-gray-200">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg font-medium text-gray-800 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                                </svg>
                                Inclusions
                            </h3>
                            <button type="button" onclick="addInclusion()" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                </svg>
                                Add Inclusion
                            </button>
                        </div>
                        <div id="inclusionsContainer" class="space-y-2">
                            <!-- Inclusions will be added here -->
                        </div>
                    </div>
                    
                    <div class="space-y-4 pt-4 border-t border-gray-200">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg font-medium text-gray-800 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-red-500" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                                </svg>
                                Exclusions
                            </h3>
                            <button type="button" onclick="addExclusion()" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                </svg>
                                Add Exclusion
                            </button>
                        </div>
                        <div id="exclusionsContainer" class="space-y-2">
                            <!-- Exclusions will be added here -->
                        </div>
                    </div>
                    
                    <div class="pt-4 flex space-x-3 border-t border-gray-200">
                        <button type="submit" class="flex-1 bg-gradient-to-r from-blue-600 to-blue-500 py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:from-blue-700 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                            </svg>
                            Save Package
                        </button>
                        <button type="button" id="cancelEdit" style="display:none;" class="flex-1 bg-white py-3 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Current Packages -->
            <div class="lg:col-span-2 bg-glass rounded-xl shadow-lg overflow-hidden animate-fade-in" style="animation-delay: 0.2s;">
                <div class="bg-gradient-to-r from-blue-600 to-blue-400 p-4">
                    <h2 class="text-xl font-semibold text-white flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" />
                            <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd" />
                        </svg>
                        Current Packages
                    </h2>
                </div>
                <div class="p-4 border-b border-gray-200">
                    <div class="flex space-x-2 overflow-x-auto pb-2">
                        <button onclick="filterPackages('all')" class="filter-tab tab-animation active px-4 py-2 rounded-full text-sm font-medium bg-blue-600 text-white">
                            All Packages
                        </button>
                        <button onclick="filterPackages('standard')" class="filter-tab tab-animation px-4 py-2 rounded-full text-sm font-medium bg-gray-200 text-gray-800 hover:bg-gray-300">
                            Standard
                        </button>
                        <button onclick="filterPackages('premium')" class="filter-tab tab-animation px-4 py-2 rounded-full text-sm font-medium bg-gray-200 text-gray-800 hover:bg-gray-300">
                            Premium
                        </button>
                        <button onclick="filterPackages('luxury')" class="filter-tab tab-animation px-4 py-2 rounded-full text-sm font-medium bg-gray-200 text-gray-800 hover:bg-gray-300">
                            Luxury
                        </button>
                        <button onclick="filterPackages('featured')" class="filter-tab tab-animation px-4 py-2 rounded-full text-sm font-medium bg-gray-200 text-gray-800 hover:bg-gray-300">
                            Featured
                        </button>
                    </div>
                </div>
                <div id="packagesContainer" class="divide-y divide-gray-200">
                    <div class="p-6 text-center">
                        <div class="animate-pulse flex justify-center">
                            <div class="h-8 w-8 bg-blue-500 rounded-full"></div>
                        </div>
                        <p class="mt-2 text-sm text-gray-500">Loading packages...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Modal -->
    <div id="loadingModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center animate-fade-in">
            <div class="flex justify-center">
                <svg class="animate-spin-slow h-10 w-10 text-blue-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            </div>
            <h3 class="mt-4 text-lg font-medium text-gray-800">Processing...</h3>
            <p class="mt-1 text-sm text-gray-500">Please wait while we save your package</p>
        </div>
    </div>

    <!-- Featured Packages Section -->
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <div class="bg-glass rounded-xl shadow-lg overflow-hidden animate-fade-in" style="animation-delay: 0.3s;">
            <div class="bg-gradient-to-r from-blue-600 to-blue-400 p-4">
                <h2 class="text-xl font-semibold text-white flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
                    </svg>
                    Featured Packages
                </h2>
            </div>
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-800">Currently Featured Packages</h3>
                    <button onclick="openAddFeaturedModal()" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                        </svg>
                        Add Featured Package
                    </button>
                </div>
                
                <div id="featuredPackagesContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Featured packages will be loaded here -->
                    <div class="p-4 text-center">
                        <div class="animate-pulse flex justify-center">
                            <div class="h-8 w-8 bg-blue-500 rounded-full"></div>
                        </div>
                        <p class="mt-2 text-sm text-gray-500">Loading featured packages...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Featured Package Modal -->
    <div id="addFeaturedModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md animate-fade-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-medium text-gray-800">Add Package to Featured Section</h3>
                <button onclick="closeAddFeaturedModal()" class="text-gray-400 hover:text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700">Select Package</label>
                    <select id="featuredPackageSelect" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                        <option value="">Loading packages...</option>
                    </select>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Title (EN)</label>
                        <input type="text" id="featuredTitleEn" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Title (AR)</label>
                        <input type="text" id="featuredTitleAr" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Subtitle (EN)</label>
                        <input type="text" id="featuredSubtitleEn" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Subtitle (AR)</label>
                        <input type="text" id="featuredSubtitleAr" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700">Destinations Count</label>
                    <input type="text" id="featuredDestinationsCount" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150" placeholder="e.g. 15+ Destinations">
                </div>
                
                <div class="flex justify-end space-x-3 pt-4">
                    <button onclick="closeAddFeaturedModal()" class="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150">
                        Cancel
                    </button>
                    <button onclick="addFeaturedPackage()" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150">
                        Add Package
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    

    <script>
      const form = document.getElementById('packageForm');
      const container = document.getElementById('packagesContainer');
      const cancelEditBtn = document.getElementById('cancelEdit');
      const itineraryContainer = document.getElementById('itineraryContainer');
      const inclusionsContainer = document.getElementById('inclusionsContainer');
      const exclusionsContainer = document.getElementById('exclusionsContainer');
      let currentTab = 'standard';
  
      // Add highlight
      function addHighlight(textEn = '', textAr = '') {
        const highlightEl = document.createElement('div');
        highlightEl.className = 'highlight-item flex items-center gap-2 fade-in';
        highlightEl.innerHTML = `
          <input type="text" name="highlightEn" value="${textEn}" placeholder="Highlight in English" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
          <input type="text" name="highlightAr" value="${textAr}" placeholder="Highlight in Arabic" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
          <button type="button" onclick="this.closest('.highlight-item').remove()" class="text-red-500 hover:text-red-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
            </svg>
          </button>
        `;
        document.getElementById('highlightsContainer').appendChild(highlightEl);
      }
  
      // Add FAQ item
      function addFAQ(questionEn = '', questionAr = '', answerEn = '', answerAr = '') {
        const faqEl = document.createElement('div');
        faqEl.className = 'faq-item bg-gray-50 p-4 rounded-lg fade-in';
        faqEl.innerHTML = `
          <div class="flex justify-between items-center mb-2">
            <h4 class="font-medium text-dark">FAQ Item</h4>
            <button type="button" onclick="this.closest('.faq-item').remove()" class="text-red-500 hover:text-red-700">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
            </button>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-3">
            <div class="space-y-1">
              <label class="block text-sm font-medium text-gray-700">Question (EN):</label>
              <input type="text" name="faqQuestionEn" value="${questionEn}" placeholder="Question in English" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
            </div>
            <div class="space-y-1">
              <label class="block text-sm font-medium text-gray-700">Question (AR):</label>
              <input type="text" name="faqQuestionAr" value="${questionAr}" placeholder="Question in Arabic" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
            </div>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="space-y-1">
              <label class="block text-sm font-medium text-gray-700">Answer (EN):</label>
              <textarea name="faqAnswerEn" rows="3" placeholder="Answer in English" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">${answerEn}</textarea>
            </div>
            <div class="space-y-1">
              <label class="block text-sm font-medium text-gray-700">Answer (AR):</label>
              <textarea name="faqAnswerAr" rows="3" placeholder="Answer in Arabic" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">${answerAr}</textarea>
            </div>
          </div>
        `;
        document.getElementById('faqContainer').appendChild(faqEl);
      }
  
      form.addEventListener('submit', async (e) => {
  e.preventDefault();
  const loadingModal = document.getElementById('loadingModal');
  loadingModal.classList.remove('hidden');
  try {
    const formData = new FormData(form);
    const packageId = document.getElementById('packageId').value;
    
    // Get all dynamic data
    const itinerary = [];
    const dayElements = itineraryContainer.querySelectorAll('.day-itinerary');
    dayElements.forEach(dayEl => {
      itinerary.push({
        day: parseInt(dayEl.querySelector('[name="itineraryDay"]').value),
        title: {
          en: dayEl.querySelector('[name="itineraryTitle"]').value,
          ar: dayEl.querySelector('[name="itineraryTitleAr"]').value
        },
        description: {
          en: dayEl.querySelector('[name="itineraryDesc"]').value,
          ar: dayEl.querySelector('[name="itineraryDescAr"]').value
        },
        activities: Array.from(dayEl.querySelectorAll('.activity-item')).map(actEl => ({
          en: actEl.querySelector('[name="activity"]').value,
          ar: actEl.querySelector('[name="activityAr"]').value
        }))
      });
    });
    
    // Get inclusions and exclusions
    const inclusions = Array.from(inclusionsContainer.querySelectorAll('.inclusion-item')).map(el => ({
      en: el.querySelector('[name="inclusionEn"]').value,
      ar: el.querySelector('[name="inclusionAr"]').value
    }));
    
    const exclusions = Array.from(exclusionsContainer.querySelectorAll('.exclusion-item')).map(el => ({
      en: el.querySelector('[name="exclusionEn"]').value,
      ar: el.querySelector('[name="exclusionAr"]').value
    }));

    // Get overview, highlights, and faqs
    const overview = {
      en: form.querySelector('[name="overviewEn"]').value,
      ar: form.querySelector('[name="overviewAr"]').value
    };

    const highlights = Array.from(document.querySelectorAll('.highlight-item')).map(el => ({
      en: el.querySelector('[name="highlightEn"]').value,
      ar: el.querySelector('[name="highlightAr"]').value
    }));

    const faqs = Array.from(document.querySelectorAll('.faq-item')).map(el => ({
      question: {
        en: el.querySelector('[name="faqQuestionEn"]').value,
        ar: el.querySelector('[name="faqQuestionAr"]').value
      },
      answer: {
        en: el.querySelector('[name="faqAnswerEn"]').value,
        ar: el.querySelector('[name="faqAnswerAr"]').value
      }
    }));

      
    // Get metatags data
    const metatags = {
      title: {
        en: form.querySelector('[name="metaTitleEn"]').value,
        ar: form.querySelector('[name="metaTitleAr"]').value
      },
      description: {
        en: form.querySelector('[name="metaDescriptionEn"]').value,
        ar: form.querySelector('[name="metaDescriptionAr"]').value
      }
    };

      // Add metatags to formData
      formData.append('metatags', JSON.stringify(metatags));
    
    // Add JSON data to formData
    formData.append('itinerary', JSON.stringify(itinerary));
    formData.append('inclusions', JSON.stringify(inclusions));
    formData.append('exclusions', JSON.stringify(exclusions));
    formData.append('overview', JSON.stringify(overview));
    formData.append('highlights', JSON.stringify(highlights));
    formData.append('faqs', JSON.stringify(faqs));
    formData.append('metatags', JSON.stringify(metatags));

    const url = packageId 
      ? `https://tenderoutes-backend-4.onrender.com/api/sections/${packageId}`
      : 'https://tenderoutes-backend-4.onrender.com/api/sections';
      
    const method = packageId ? 'PUT' : 'POST';
    
    const response = await fetch(url, {
      method,
      body: formData
    });
    
    if (!response.ok) {
      const errorData = await response.json();
      console.error('Server error details:', errorData);
      throw new Error(errorData.message || 'Failed to save package');
    }
    
    const responseData = await response.json();
    console.log('Success:', responseData);
    
    // Reset form and UI
    form.reset();
    clearItinerary();
    clearDynamicFields('highlightsContainer');
    clearDynamicFields('faqContainer');
    clearDynamicFields('inclusionsContainer');
    clearDynamicFields('exclusionsContainer');
    document.getElementById('packageId').value = '';
    cancelEditBtn.style.display = 'none';
    
    // Show success message
    alert(packageId ? 'Package updated successfully!' : 'Package created successfully!');
    
    // Reload packages
    loadPackages(currentTab);
  } catch (error) {
    console.error('Full error:', error);
    alert(`Error: ${error.message}\nCheck console for details`);
  } finally {
    loadingModal.classList.add('hidden');
  }
});
  
      // Cancel edit
      cancelEditBtn.addEventListener('click', () => {
        form.reset();
        clearItinerary();
        clearDynamicFields('highlightsContainer');
        clearDynamicFields('faqContainer');
        clearDynamicFields('inclusionsContainer');
        clearDynamicFields('exclusionsContainer');
         // Clear metatag fields
  document.querySelector('[name="metaTitleEn"]').value = '';
  document.querySelector('[name="metaTitleAr"]').value = '';
  document.querySelector('[name="metaDescriptionEn"]').value = '';
  document.querySelector('[name="metaDescriptionAr"]').value = '';
  
  document.getElementById('packageId').value = '';
  cancelEditBtn.style.display = 'none';
      });
  
      // Filter packages by type
      function filterPackages(type) {
        currentTab = type;
        document.querySelectorAll('.filter-tab').forEach(tab => {
          tab.classList.remove('bg-gray-200', 'text-gray-800');
          tab.classList.remove('bg-primary', 'text-white');
          
          if (tab.textContent.trim().toLowerCase() === type) {
            tab.classList.add('bg-primary', 'text-white');
          } else {
            tab.classList.add('bg-gray-200', 'text-gray-800');
          }
        });
        loadPackages(type);
      }
  
      // Load packages
      async function loadPackages(type = 'standard') {
        container.innerHTML = `
          <div class="p-6 text-center">
            <div class="animate-pulse flex justify-center">
              <div class="h-8 w-8 bg-primary rounded-full"></div>
            </div>
            <p class="mt-2 text-sm text-gray-500">Loading packages...</p>
          </div>
        `;
        
        try {
          const url = `https://tenderoutes-backend-4.onrender.com/api/sections?type=${type}`;
          const res = await fetch(url);
          if (!res.ok) throw new Error('Failed to fetch packages');
          
          const packages = await res.json();
          
          if (packages.length === 0) {
            container.innerHTML = '<p class="p-6 text-gray-500">No packages found</p>';
            return;
          }
          
          container.innerHTML = '';
          packages.forEach(pkg => {
            const card = createPackageCard(pkg);
            container.appendChild(card);
          });
        } catch (error) {
          console.error('Error loading packages:', error);
          container.innerHTML = '<p class="p-6 text-red-500">Error loading packages. Please try again.</p>';
        }
      }
  
      // Create package card
      function createPackageCard(pkg) {
        const card = document.createElement('div');
        card.className = 'p-6 fade-in';
        
        const featuredBadge = pkg.isFeatured ? `
          <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 absolute top-2 right-2">
            Featured
          </span>
        ` : '';
        
        const discountBadge = pkg.discount > 0 ? `
          <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 absolute top-2 left-2">
            ${pkg.discount}% OFF
          </span>
        ` : '';
        
        const priceDisplay = pkg.details.price ? `
          <div class="mt-2">
            <span class="text-lg font-semibold text-primary">$${pkg.details.price}</span>
            ${pkg.details.originalPrice ? `<span class="ml-2 text-sm text-gray-500 line-through">$${pkg.details.originalPrice}</span>` : ''}
          </div>
        ` : '';
        
        card.innerHTML = `
          <div class="flex flex-col md:flex-row gap-4 relative">
            ${featuredBadge}
            ${discountBadge}
            
            <div class="flex-shrink-0 w-full md:w-48 h-48 rounded-lg overflow-hidden">
              <img src="${pkg.imageUrl}" alt="${pkg.title.en}" class="w-full h-full object-cover">
            </div>
            
            <div class="flex-1">
              <div class="flex justify-between items-start">
                <div>
                  <h3 class="text-lg font-bold text-dark">${pkg.title.en}</h3>
                  <p class="text-sm text-gray-600">${pkg.title.ar}</p>
                </div>
                <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${
                  pkg.packageType === 'standard' ? 'bg-blue-100 text-blue-800' : 
                  pkg.packageType === 'premium' ? 'bg-purple-100 text-purple-800' : 
                  'bg-yellow-100 text-yellow-800'
                }">
                  ${pkg.packageType.charAt(0).toUpperCase() + pkg.packageType.slice(1)}
                </span>
              </div>
              
              <p class="mt-1 text-sm text-gray-600 line-clamp-2">${pkg.description.en}</p>
              <p class="mt-1 text-sm text-gray-600 line-clamp-2">${pkg.description.ar}</p>
              
              <div class="mt-2 flex items-center">
                <div class="flex items-center">
                  <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                  </svg>
                  <span class="ml-1 text-sm font-medium text-gray-700">${pkg.rating}</span>
                  <span class="mx-1 text-gray-500">•</span>
                  <span class="text-sm text-gray-500">${pkg.reviewsCount} reviews</span>
                </div>
              </div>
              
              <div class="mt-2 text-sm text-gray-600">
                <span>${pkg.duration.nights} Nights / ${pkg.duration.days} Days</span>
                <span class="mx-2">•</span>
                <span>${pkg.destinations.en}</span>
              </div>
              
              ${priceDisplay}
              
              <div class="mt-4 flex space-x-2">
                <a href="../package-details.html?id=${pkg._id}" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-blue-500 hover:bg-blue-600  ">
                  View Details
                </a>
                <button onclick="editPackage('${pkg._id}')" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-blue-500 hover:bg-blue-600 ">
                  Edit
                </button>
                <button onclick="deletePackage('${pkg._id}')" class="inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded shadow-sm text-gray-700 bg-blue-500 hover:bg-blue-600 ">
                  Delete
                </button>
              </div>
            </div>
          </div>
        `;
        
        return card;
      }
  
      // Edit package - Load data into form
      async function editPackage(packageId) {
        try {
          const response = await fetch(`https://tenderoutes-backend-4.onrender.com/api/sections/${packageId}`);
          if (!response.ok) throw new Error('Failed to fetch package');
          
          const pkg = await response.json();
          
          // Fill basic fields
          document.getElementById('packageId').value = pkg._id;
          document.querySelector('[name="packageType"]').value = pkg.packageType;
          document.querySelector('[name="titleEn"]').value = pkg.title.en;
          document.querySelector('[name="titleAr"]').value = pkg.title.ar;
          document.querySelector('[name="descriptionEn"]').value = pkg.description.en;
          document.querySelector('[name="descriptionAr"]').value = pkg.description.ar;
          document.querySelector('[name="nights"]').value = pkg.duration.nights;
          document.querySelector('[name="days"]').value = pkg.duration.days;
          document.querySelector('[name="destinationsEn"]').value = pkg.destinations.en;
          document.querySelector('[name="destinationsAr"]').value = pkg.destinations.ar;
          document.querySelector('[name="rating"]').value = pkg.rating;
          document.querySelector('[name="reviewsCount"]').value = pkg.reviewsCount;
          document.querySelector('[name="discount"]').value = pkg.discount;
          document.querySelector('[name="isFeatured"]').checked = pkg.isFeatured;
          document.querySelector('[name="price"]').value = pkg.details.price;
          document.querySelector('[name="originalPrice"]').value = pkg.details.originalPrice;
  
          // Fill overview
          document.querySelector('[name="overviewEn"]').value = pkg.overview.en;
          document.querySelector('[name="overviewAr"]').value = pkg.overview.ar;


          if (pkg.metatags) {
      if (pkg.metatags.title) {
        document.querySelector('[name="metaTitleEn"]').value = pkg.metatags.title.en || '';
        document.querySelector('[name="metaTitleAr"]').value = pkg.metatags.title.ar || '';
      }
      
      if (pkg.metatags.description) {
        document.querySelector('[name="metaDescriptionEn"]').value = pkg.metatags.description.en || '';
        document.querySelector('[name="metaDescriptionAr"]').value = pkg.metatags.description.ar || '';
      }
    }
          
          // Clear and rebuild highlights
          clearDynamicFields('highlightsContainer');
          pkg.highlights.forEach(hl => {
            addHighlight(hl.en, hl.ar);
          });
          
          // Clear and rebuild FAQs
          clearDynamicFields('faqContainer');
          pkg.faqs.forEach(faq => {
            addFAQ(faq.question.en, faq.question.ar, faq.answer.en, faq.answer.ar);
          });
          
          // Clear and rebuild itinerary
          clearItinerary();
          pkg.details.itinerary.forEach(day => {
            addItineraryDay(day.day, day.title.en, day.title.ar, day.description.en, day.description.ar, day.activities);
          });
          
          // Clear and rebuild inclusions
          clearDynamicFields('inclusionsContainer');
          pkg.details.inclusions.forEach(inc => {
            addInclusion(inc.en, inc.ar);
          });
          
          // Clear and rebuild exclusions
          clearDynamicFields('exclusionsContainer');
          pkg.details.exclusions.forEach(exc => {
            addExclusion(exc.en, exc.ar);
          });
          
          // Show cancel button
          cancelEditBtn.style.display = 'inline-flex';
          
          // Scroll to form
          document.getElementById('packageForm').scrollIntoView({ behavior: 'smooth' });
        } catch (error) {
          console.error('Error loading package:', error);
          alert(`Error: ${error.message}`);
        }
      }
  
      // Delete package
      async function deletePackage(packageId) {
        if (!confirm('Are you sure you want to delete this package?')) return;
        
        try {
          const response = await fetch(`https://tenderoutes-backend-4.onrender.com/api/sections/${packageId}`, {
            method: 'DELETE'
          });
          
          if (!response.ok) throw new Error('Failed to delete package');
          
          alert('Package deleted successfully');
          loadPackages(currentTab);
        } catch (error) {
          console.error('Error deleting package:', error);
          alert(`Error: ${error.message}`);
        }
      }
  
      // Add itinerary day
      function addItineraryDay(dayNumber = '', titleEn = '', titleAr = '', descEn = '', descAr = '', activities = []) {
        const dayEl = document.createElement('div');
        dayEl.className = 'day-itinerary bg-gray-50 p-4 rounded-lg fade-in';
        dayEl.innerHTML = `
          <div class="flex justify-between items-center mb-2">
            <h4 class="font-medium text-dark">Day <span class="day-number">${dayNumber || ''}</span></h4>
            <button type="button" onclick="this.closest('.day-itinerary').remove()" class="text-red-500 hover:text-red-700">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
            </button>
          </div>
          <input type="hidden" name="itineraryDay" value="${dayNumber || ''}">
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-3">
            <div class="space-y-1">
              <label class="block text-sm font-medium text-gray-700">Title (EN):</label>
              <input type="text" name="itineraryTitle" value="${titleEn}" placeholder="Day title" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary" required>
            </div>
            <div class="space-y-1">
              <label class="block text-sm font-medium text-gray-700">Title (AR):</label>
              <input type="text" name="itineraryTitleAr" value="${titleAr}" placeholder="Day title in Arabic" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary" required>
            </div>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-3">
            <div class="space-y-1">
              <label class="block text-sm font-medium text-gray-700">Description (EN):</label>
              <textarea name="itineraryDesc" rows="2" placeholder="Day description" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary" required>${descEn}</textarea>
            </div>
            <div class="space-y-1">
              <label class="block text-sm font-medium text-gray-700">Description (AR):</label>
              <textarea name="itineraryDescAr" rows="2" placeholder="Day description in Arabic" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary" required>${descAr}</textarea>
            </div>
          </div>
          
          <div class="activities-container space-y-2 mb-3">
            ${activities.map(act => `
              <div class="activity-item flex items-center gap-2">
                <input type="text" name="activity" value="${act.en}" placeholder="Activity" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary" required>
                <input type="text" name="activityAr" value="${act.ar}" placeholder="Activity in Arabic" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary" required>
                <button type="button" onclick="this.closest('.activity-item').remove()" class="text-red-500 hover:text-red-700">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                  </svg>
                </button>
              </div>
            `).join('')}
          </div>
          
          <button type="button" onclick="addActivity(this)" class="mt-2 inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
            Add Activity
          </button>
        `;
        
        itineraryContainer.appendChild(dayEl);
      }
  
      // Add activity to itinerary day
      function addActivity(button) {
        const dayEl = button.closest('.day-itinerary');
        const activitiesContainer = dayEl.querySelector('.activities-container');
        
        const activityEl = document.createElement('div');
        activityEl.className = 'activity-item flex items-center gap-2 fade-in';
        activityEl.innerHTML = `
          <input type="text" name="activity" placeholder="Activity" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary" required>
          <input type="text" name="activityAr" placeholder="Activity in Arabic" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary" required>
          <button type="button" onclick="this.closest('.activity-item').remove()" class="text-red-500 hover:text-red-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
            </svg>
          </button>
        `;
        
        activitiesContainer.appendChild(activityEl);
      }
  
      // Add inclusion
      function addInclusion(textEn = '', textAr = '') {
        const inclusionEl = document.createElement('div');
        inclusionEl.className = 'inclusion-item flex items-center gap-2 fade-in';
        inclusionEl.innerHTML = `
          <input type="text" name="inclusionEn" value="${textEn}" placeholder="Inclusion in English" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
          <input type="text" name="inclusionAr" value="${textAr}" placeholder="Inclusion in Arabic" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
          <button type="button" onclick="this.closest('.inclusion-item').remove()" class="text-red-500 hover:text-red-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
            </svg>
          </button>
        `;
        inclusionsContainer.appendChild(inclusionEl);
      }
  
      // Add exclusion
      function addExclusion(textEn = '', textAr = '') {
        const exclusionEl = document.createElement('div');
        exclusionEl.className = 'exclusion-item flex items-center gap-2 fade-in';
        exclusionEl.innerHTML = `
          <input type="text" name="exclusionEn" value="${textEn}" placeholder="Exclusion in English" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
          <input type="text" name="exclusionAr" value="${textAr}" placeholder="Exclusion in Arabic" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
          <button type="button" onclick="this.closest('.exclusion-item').remove()" class="text-red-500 hover:text-red-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
            </svg>
          </button>
        `;
        exclusionsContainer.appendChild(exclusionEl);
      }
  
      // Clear itinerary
      function clearItinerary() {
        itineraryContainer.innerHTML = '';
      }
  
      // Clear dynamic fields
      function clearDynamicFields(containerId) {
        const container = document.getElementById(containerId);
        if (container) {
          container.innerHTML = '';
        }
      }
  
      // Initialize the page
      document.addEventListener('DOMContentLoaded', () => {
        // Load standard packages by default
        filterPackages('standard');
        
        // Add one inclusion and exclusion by default
        addInclusion();
        addExclusion();
      });
  </script>
    <script>
      // Load featured packages
  async function loadFeaturedPackages() {
    try {
      const response = await fetch(' https://tenderoutes-backend-4.onrender.com/api/featured-packages');
      if (!response.ok) throw new Error('Failed to fetch featured packages');
      
      const featuredPackages = await response.json();
      const container = document.getElementById('featuredPackagesContainer');
      
      container.innerHTML = '';
      
      if (featuredPackages.length === 0) {
        container.innerHTML = '<p class="text-gray-500">No featured packages yet</p>';
        return;
      }
      
      featuredPackages.forEach(pkg => {
        const card = document.createElement('div');
        card.className = 'bg-gray-50 p-4 rounded-lg flex items-center justify-between';
        card.innerHTML = `
          <div>
            <h4 class="font-medium">${pkg.title.en}</h4>
            <p class="text-sm text-gray-600">${pkg.subtitle.en}</p>
            <p class="text-xs text-gray-500 mt-1">Destinations: ${pkg.destinationsCount}</p>
          </div>
          <div class="flex space-x-2">
            <button onclick="editFeaturedPackage('${pkg._id}')" class="p-1 text-primary hover:text-primary-dark">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path>
              </svg>
            </button>
            <button onclick="removeFeaturedPackage('${pkg._id}')" class="p-1 text-red-500 hover:text-red-700">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path>
              </svg>
            </button>
          </div>
        `;
        container.appendChild(card);
      });
    } catch (error) {
      console.error('Error loading featured packages:', error);
      alert(`Error: ${error.message}`);
    }
  }
  
  // Open add featured package modal
  async function openAddFeaturedModal() {
    try {
      // Load packages for dropdown
      const response = await fetch('https://tenderoutes-backend-4.onrender.com/api/sections');
      if (!response.ok) throw new Error('Failed to fetch packages');
      
      const packages = await response.json();
      const select = document.getElementById('featuredPackageSelect');
      
      select.innerHTML = '<option value="">Select a package</option>';
      packages.forEach(pkg => {
        const option = document.createElement('option');
        option.value = pkg._id;
        option.textContent = pkg.title.en;
        select.appendChild(option);
      });
      
      document.getElementById('addFeaturedModal').classList.remove('hidden');
    } catch (error) {
      console.error('Error opening modal:', error);
      alert(`Error: ${error.message}`);
    }
  }
  
  // Close add featured package modal
  function closeAddFeaturedModal() {
    document.getElementById('addFeaturedModal').classList.add('hidden');
  }
  
  // Add featured package
  async function addFeaturedPackage() {
    try {
      const packageId = document.getElementById('featuredPackageSelect').value;
      const titleEn = document.getElementById('featuredTitleEn').value;
      const titleAr = document.getElementById('featuredTitleAr').value;
      const subtitleEn = document.getElementById('featuredSubtitleEn').value;
      const subtitleAr = document.getElementById('featuredSubtitleAr').value;
      const destinationsCount = document.getElementById('featuredDestinationsCount').value;
      
      if (!packageId || !titleEn || !titleAr || !subtitleEn || !subtitleAr || !destinationsCount) {
        throw new Error('All fields are required');
      }
      
      const response = await fetch('https://tenderoutes-backend-4.onrender.com/api/featured-packages', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          packageId,
          title: { en: titleEn, ar: titleAr },
          subtitle: { en: subtitleEn, ar: subtitleAr },
          destinationsCount
        })
      });
      
      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.error || 'Failed to add featured package');
      }
      
      closeAddFeaturedModal();
      loadFeaturedPackages();
      alert('Package added to featured section successfully!');
    } catch (error) {
      console.error('Error adding featured package:', error);
      alert(`Error: ${error.message}`);
    }
  }
  
  // Remove featured package
  async function removeFeaturedPackage(id) {
    if (!confirm('Are you sure you want to remove this package from featured section?')) return;
    
    try {
      const response = await fetch(`https://tenderoutes-backend-4.onrender.com/api/featured-packages/${id}`, {
        method: 'DELETE'
      });
      
      if (!response.ok) throw new Error('Failed to remove featured package');
      
      loadFeaturedPackages();
      alert('Package removed from featured section');
    } catch (error) {
      console.error('Error removing featured package:', error);
      alert(`Error: ${error.message}`);
    }
  }
  
  // Initialize featured packages on page load
  document.addEventListener('DOMContentLoaded', () => {
    loadFeaturedPackages();
  });
    </script>
</body>
</html>